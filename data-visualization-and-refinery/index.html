
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <meta name="author" content="IBM Developer">
      
      
        <link rel="canonical" href="https://ibm.github.io/cpd-workshop-health-care/data-visualization-and-refinery/">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.0.5">
    
    
      
        <title>Data Visualization with Data Refinery - Cloud Pak for Data Health Care Workshop</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.77f3fd56.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.7fa14f5b.min.css">
        
          
          
          <meta name="theme-color" content="#2094f3">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans:300,400,400i,700%7CIBM+Plex+Mono&display=fallback">
        <style>:root{--md-text-font-family:"IBM Plex Sans";--md-code-font-family:"IBM Plex Mono"}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="blue">
      
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#data-visualization-and-data-refinery" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="https://ibm.github.io/cpd-workshop-health-care" title="Cloud Pak for Data Health Care Workshop" class="md-header__button md-logo" aria-label="Cloud Pak for Data Health Care Workshop">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Cloud Pak for Data Health Care Workshop
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Data Visualization with Data Refinery
            
          </span>
        </div>
      </div>
    </div>
    <div class="md-header__options">
      
    </div>
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/ibm/cpd-workshop-health-care/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    cpd-workshop-health-care
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        Welcome
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../pre-work/" class="md-tabs__link md-tabs__link--active">
        Workshop
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../resources/" class="md-tabs__link">
        Workshop Resources
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://ibm.github.io/cpd-workshop-health-care" title="Cloud Pak for Data Health Care Workshop" class="md-nav__button md-logo" aria-label="Cloud Pak for Data Health Care Workshop">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Cloud Pak for Data Health Care Workshop
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/ibm/cpd-workshop-health-care/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    cpd-workshop-health-care
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" type="checkbox" id="__nav_1" >
      
      <label class="md-nav__link" for="__nav_1">
        Welcome
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Welcome" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Welcome
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        About the workshop
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      <label class="md-nav__link" for="__nav_2">
        Workshop
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Workshop" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Workshop
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../pre-work/" class="md-nav__link">
        Pre-work
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../data-connection-and-virtualization/" class="md-nav__link">
        Data Connetion and Virtualization
      </a>
    </li>
  

          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Data Visualization with Data Refinery
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Data Visualization with Data Refinery
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-load-data" class="md-nav__link">
    1. Load Data
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-refine-data" class="md-nav__link">
    2. Refine Data
  </a>
  
    <nav class="md-nav" aria-label="2. Refine Data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-transformation-flow" class="md-nav__link">
    Create Transformation Flow
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#schedule-jobs" class="md-nav__link">
    Schedule Jobs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-profile-data" class="md-nav__link">
    3. Profile Data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-visualize-data" class="md-nav__link">
    4. Visualize Data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    Conclusion
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../watson-knowledge-catalog-admin/" class="md-nav__link">
        Enterprise data governance for Admins using Watson Knowledge Catalog
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../machine-learning-autoai/" class="md-nav__link">
        Machine Learning with AutoAI
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../openscale-fastpath/" class="md-nav__link">
        Monitoring models with OpenScale GUI (Auto setup Monitoring)
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      <label class="md-nav__link" for="__nav_3">
        Workshop Resources
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Workshop Resources" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Workshop Resources
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../resources/" class="md-nav__link">
        Additional Resources
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-load-data" class="md-nav__link">
    1. Load Data
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-refine-data" class="md-nav__link">
    2. Refine Data
  </a>
  
    <nav class="md-nav" aria-label="2. Refine Data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-transformation-flow" class="md-nav__link">
    Create Transformation Flow
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#schedule-jobs" class="md-nav__link">
    Schedule Jobs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-profile-data" class="md-nav__link">
    3. Profile Data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-visualize-data" class="md-nav__link">
    4. Visualize Data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    Conclusion
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/ibm/cpd-workshop-health-care/edit/master/workshop/data-visualization-and-refinery/README.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="data-visualization-and-data-refinery">Data Visualization and Data Refinery<a class="headerlink" href="#data-visualization-and-data-refinery" title="Permanent link">&para;</a></h1>
<p>Let's take a quick detour to the <em>Data Refinery</em> tool. Data Refinery can quickly filter and mutate data, create quick visualizations, and do other data cleansing tasks from an easy to use user interface.</p>
<p>This section is broken up into the following steps:</p>
<ol>
<li><a href="#1-load-data">Load the data</a></li>
<li><a href="#2-refine-data">Refine the data</a></li>
<li><a href="#3-profile-data">Profile the data</a></li>
<li><a href="#4-visualize-data">Visualize the data</a></li>
</ol>
<blockquote>
<p><em>Note: The lab instructions below assume you have a project already and have data you will refine. If not, follow the instructions in the pre-work and import data to project sections to create a project and assign data to your project.</em></p>
</blockquote>
<h2 id="1-load-data">1. Load Data<a class="headerlink" href="#1-load-data" title="Permanent link">&para;</a></h2>
<ul>
<li>Go the (☰) navigation menu and click on the <em>Projects</em> link and then click on your analytics project.</li>
</ul>
<p><img alt="(☰) Menu -&gt; Projects" src="../images/pre-work/cpd-projects-menu.png" /></p>
<ul>
<li>
<p>From the <em>Project</em> home, under the <em>Assets</em> tab, ensure the <em>Data assets</em> section is expanded or click on the arrow to toggle it and open up the list of data assets.</p>
</li>
<li>
<p>Click the check box next to the merged data asset  <em>XXXPATIENTMEDICATIONSCONDITIONS</em> (where <code>XXX</code> is your username or the username of the person who granted you data access) to check it, then click the 3 vertical dots to the right, and select the <em>Refine</em> option from the menu.</p>
</li>
</ul>
<p><img alt="Launch the action menu" src="../images/dr/dr-launch-table.png" /></p>
<ul>
<li>Data Refinery will launch and open to the <code>Data</code> tab. It will also display the information panel with details of the data refinery flow and where the output of the flow will be placed. Go ahead and click the <code>X</code> to the right of the <em>Information</em> panel to close it.</li>
</ul>
<p><img alt="Data Refinery view" src="../images/dr/dr-open-table.png" /></p>
<h2 id="2-refine-data">2. Refine Data<a class="headerlink" href="#2-refine-data" title="Permanent link">&para;</a></h2>
<p>We'll start out in the <em>Data</em> tab where we wrangle, shape and refine our data. As you refine your data, IBM Data Refinery keeps track of the steps in your data flow. You can modify them and even select a step to return to a particular moment in your data’s transformation.</p>
<h3 id="create-transformation-flow">Create Transformation Flow<a class="headerlink" href="#create-transformation-flow" title="Permanent link">&para;</a></h3>
<ul>
<li>With Data Refinery, we can transform our data by directly entering operations in R-style syntax or interactively by selecting operations from the menu. For example, start typing <em>filter</em> on the Command line and observe that autocomplete will give hints on the syntax and how to use the command.</li>
</ul>
<p><img alt="Command line filter" src="../images/dr/dr-cli-filter.png" /></p>
<ul>
<li>
<p>A <code>filter</code> operation syntax will be displayed in the Command line. Clicking on the operation name within the Command line will give hints on the syntax and how to use the command. For instance the following command filters for Patients who live in <code>Lancaster</code>:
  <div class="highlight"><pre><span></span><code><span class="nf">filter</span><span class="p">(</span><span class="n">`CITY`</span> <span class="o">==</span> <span class="s">&#39;Lancaster&#39;</span><span class="p">)</span>
</code></pre></div></p>
</li>
<li>
<p>Type or cut-n-paste the filter above in the command line and click <code>Apply</code>. Notice that the remaining rows have the City 'Lancaster'.</p>
</li>
</ul>
<p><img alt="Filter CITY Lancaster" src="../images/dr/dr-filter-city-lancaster.png" /></p>
<ul>
<li>Now, click on the counter-clockwise "back" arrow to remove the filter. Alternately, we can also remove the filter by clicking the trash icon for the Filter step in the <em>Steps</em> panel on the right.</li>
</ul>
<p><img alt="Click back arrow" src="../images/dr/dr-click-back-arrow-lancaster.png" /></p>
<ul>
<li>We will use the UI to explore and transform the data. Click the <code>+Operation</code> button.</li>
</ul>
<p><img alt="Choose Operation button" src="../images/dr/dr-choose-operation-button.png" /></p>
<ul>
<li>Let's use the <code>Filter</code> operation to check some values. Click on <code>Filter</code> in the left panel.</li>
</ul>
<p><img alt="Filter Operation" src="../images/dr/dr-filter-operation.png" /></p>
<ul>
<li>Let's look at all the Patients who are no longer alive. Select the <em><code>DEATHDATE</code></em> column from the <em>Column</em> drop down list, and select <em><code>Is not empty</code></em> from the <em>Operator</em> drop down list, and then click the <code>Apply</code> button.</li>
</ul>
<p><img alt="Filter is not empty" src="../images/dr/dr-filter-is-not-empty.png" /></p>
<ul>
<li>Now, click on the counter-clockwise "back" arrow to remove the filter. Alternately, we can also remove the filter by clicking the trash icon for the Filter step in the <em>Steps</em> panel on the right.</li>
</ul>
<p><img alt="Click back arrow" src="../images/dr/dr-click-back-arrow.png" /></p>
<ul>
<li>We can perform other filters. Click on the <code>+Operation</code> button again, and this time select <code>Filter</code> and then select <em><code>TOTALCOST</code></em> from the <em>Column</em> drop down list and <em><code>Is greater than</code></em> from the <em>Operator</em> drop down list, and finally enter <code>2000</code> under <em>Value</em> and Click the <code>Apply</code> button.</li>
</ul>
<p><img alt="Filter for cost greater than 2000" src="../images/dr/dr-filter-cost-greater-2000.png" /></p>
<ul>
<li>
<p>Remove the filter using one of the methods described above.</p>
</li>
<li>
<p>Let's say we've decide that there are columns that we don't want to leave in our dataset ( maybe because they might not be usefule features in our Machine Learning model, or because we don't want to make those data attributes accessible to others, or any other reason). We'll remove the <code>PREFIX</code>, <code>FIRST</code>, <code>LAST</code>, <code>SUFFIX</code>, and <code>MAIDEN</code> columns.</p>
</li>
<li>
<p>For each columnn to be removed: Click the <code>+Operation</code> button, then select the <code>Remove</code> operation. Click the <code>Change column selection</code> option, choose the desired column to remove (i.e. <code>PREFIX</code>), click <code>Next</code> and click <code>Apply</code>.</p>
</li>
</ul>
<p><img alt="Remove Column" src="../images/dr/dr-remove-change-column.png" /></p>
<ul>
<li>
<p>The columns will be removed. Repeat for each of the above columns.</p>
</li>
<li>
<p>At this point, you have a data transformation flow with 5 steps. As we saw in the last section, we keep track of each of the steps and we can even undo (or redo) an action using the circular arrows. To see the steps in the data flow that you have performed, click the <em>Steps</em> button. The operations that you have performed on the data will be shown.</p>
</li>
</ul>
<p><img alt="Flow" src="../images/dr/dr-final-flow.png" /></p>
<ul>
<li>You can modify these steps in real time and save for future use.</li>
</ul>
<h3 id="schedule-jobs">Schedule Jobs<a class="headerlink" href="#schedule-jobs" title="Permanent link">&para;</a></h3>
<p>Data Refinery allows you to run jobs at scheduled times, and save the output. In this way, you can regularly refine new data as it is updated.</p>
<ul>
<li>Click on the "jobs" icon and then <code>Save and create job</code> option from the menu.</li>
</ul>
<p><img alt="Click jobs icon" src="../images/dr/dr-save-and-create-job.png" /></p>
<ul>
<li>Give the job a name and optional description. Click <code>Next</code>.</li>
</ul>
<p><img alt="Name refinery job" src="../images/dr/dr-name-job.png" /></p>
<ul>
<li>
<p>Click <code>Next</code> on the <em>Configure</em> tab. Note that you could change <em>Select environment</em> to a different one at this time, assuming that you had alternate environments in your project.</p>
</li>
<li>
<p>Under the <em>Schedule</em> tab, click the <code>Schedule to run</code> slider. Click around and notice that you can set the <code>Start on</code> time, which has a "calendar" icon for choosing the date.  The <code>Repeat</code> choice works in the same way.. We won't schedule a job at this time, so go ahead and click the <code>Schedule to run</code> slider, and it will switch to <code>Schedule off</code>. Click <code>Next</code> to move on.</p>
</li>
</ul>
<p><img alt="Schedule refinery job" src="../images/dr/dr-schedule-job.png" /></p>
<ul>
<li>Finally, under the <em>Review and create</em> tab you can <code>Edit</code> the Details, Configuration, or Schedule in this Data Refinery job. Also, hover over the output name, which in this case is * SCOTTDA.SDAPATIENTMEDICATIONSCONDITIONS_shaped.csv* . Click the <code>Create and Run</code> button.</li>
</ul>
<p><img alt="Create and Run Refinery job" src="../images/dr/dr-create-and-run-job.png" /></p>
<ul>
<li>The job will be listed as <em>Status</em> <em><code>Running</code></em> and then the <em>Status</em> will change to <em><code>Completed</code></em>. You can click <code>Edit job</code> to make changes to the job.</li>
</ul>
<p><img alt="Click Edit to schedule job" src="../images/dr/dr-job-running.png" /></p>
<ul>
<li>Give the job a name and optional description. Click <code>Next</code>.</li>
</ul>
<p><img alt="Name refinery job" src="../images/dr/dr-name-job.png" /></p>
<ul>
<li>
<p>Click <code>Next</code> on the <em>Configure</em> tab. Note that you could change <em>Select environment</em> to a different one at this time, assuming that you had alternate environments in your project.</p>
</li>
<li>
<p>Under the <em>Schedule</em> tab, click the <code>Schedule to run</code> slider. Click around and notice that you can set the <code>Start on</code> time, which has a "calendar" icon for choosing the date.  The <code>Repeat</code> choice works in the same way.. We won't schedule a job at this time, so go ahead and click the <code>Schedule to run</code> slider, and it will switch to <code>Schedule off</code>. Click <code>Next</code> to move on.</p>
</li>
</ul>
<p><img alt="Schedule refinery job" src="../images/dr/dr-schedule-job.png" /></p>
<ul>
<li>Finally, under the <em>Review and create</em> tab you can <code>Edit</code> the Details, Configuration, or Schedule in this Data Refinery job. Also, hover over the output name, which in this case is * SCOTTDA.SDAPATIENTMEDICATIONSCONDITIONS_shaped.csv* . Click the <code>Create and Run</code> button.</li>
</ul>
<p><img alt="Create and Run Refinery job" src="../images/dr/dr-create-and-run-job.png" /></p>
<ul>
<li>The job will be listed as <em>Status</em> <em><code>Running</code></em> and then the <em>Status</em> will change to <em><code>Completed</code></em>. You can click <code>Edit job</code> to make changes to the job.</li>
</ul>
<p><img alt="DR job running" src="../images/dr/dr-job-running.png" /></p>
<ul>
<li>You can click <code>Edit</code> next to <em>Scheduled to run</em>. Notice that you can toggle the <em>Schedule to run</em> switch and choose a date and time to run this transformation as a job as well as if and how frequently it will repeat. We will not run this as a job, go ahead and click the <code>Cancel</code> button</li>
</ul>
<p><img alt="Choose job scheduled time" src="../images/dr/dr-job-settings.png" /></p>
<h3 id="3-profile-data">3. Profile Data<a class="headerlink" href="#3-profile-data" title="Permanent link">&para;</a></h3>
<ul>
<li>Go back to your project by clicking on the project name in the directory path.</li>
</ul>
<p><img alt="Back to project" src="../images/dr/dr-return-to-project.png" /></p>
<ul>
<li>Return to the profile view by clicking the check box next to the merged data asset  <em>XXXPATIENTMEDICATIONSCONDITIONS</em> (where <code>XXX</code> is your username or the username of the person who granted you data access) to check it, then click the 3 vertical dots to the right, and select the <em>Refine</em> option from the menu.</li>
</ul>
<p><img alt="Launch the action menu" src="../images/dr/dr-launch-table.png" /></p>
<ul>
<li>Clicking on the <em>Profile</em> tab will bring up a view of several statistics and histograms for the attributes in your data.</li>
</ul>
<p><img alt="Data Refinery Profile tab" src="../images/dr/dr-profile.png" /></p>
<ul>
<li>
<p>You can get insight into the data from the views and statistics:</p>
</li>
<li>
<p>The distribution of birthdates is heavily skewed towards older dates.</p>
</li>
<li>
<p>There are over 3x more married people than single people in this dataset.</p>
</li>
<li>
<p>There are over 2x more people of Irish descent than any other ethnicity.</p>
</li>
<li>
<p>Females outnumber males.</p>
</li>
</ul>
<h3 id="4-visualize-data">4. Visualize Data<a class="headerlink" href="#4-visualize-data" title="Permanent link">&para;</a></h3>
<p>Let's do some visual exploration of our data using charts and graphs. We can accomplish this in Data Refinery interactively without coding.</p>
<ul>
<li>Choose the <em>Visualizations</em> tab to bring up an option to choose which columns to visualize. Under <em>Columns to Visualize</em> choose <em>BIRTHDATE</em>. Click <code>+Add column</code> and then <em>TOTALCOST</em>, then click the <code>Visualize data</code> button.</li>
</ul>
<p><img alt="Select columns" src="../images/dr/dr-vis-choose-columns.png" /></p>
<ul>
<li>We first see that the select chart is a Scatter plot. There is some clustering of higher total costs on the left side of the graph, indicating higher total costs for older people, as expected. Hovering over the outlier on the y-axis shows an individual with a very high total cost. We may wish to remove this individual from the dataset during the feature engineering phase of building a machine learning model, as it is likely to skew the results.</li>
</ul>
<p><img alt="Outlier" src="../images/dr/dr-vis-outlier.png" /></p>
<ul>
<li>Move the slider at the bottom of the Scatter plot to the right a bit to scroll past that one outlier individual and we can see a more even distribution. Scroll back and forth to explore, noticing how the maximum for TOTALCOST tends to go down as the BIRTHDATE gets more recent. Hover over any data point to bring up the details.</li>
</ul>
<p><img alt="Scroll Scatter plot" src="../images/dr/dr-vis-scroll-scatter-plot.png" /></p>
<ul>
<li>
<p>Also note that we can add items like <em>Primary title</em>, <em>Subtitle</em>, and <em>Footnote</em>.</p>
</li>
<li>
<p>Click on the <code>Actions</code> arrow and  notice that you can perform tasks such as <em>Download chart details</em>, <em>Download chart image</em>, <em>Field format</em> or set <em>Global visualization preferences</em>.</p>
</li>
</ul>
<p><img alt="Actions Download chart details" src="../images/dr/dr-vis-actions.png" /></p>
<ul>
<li>Click on the <em>Global visualization preferences</em> in the <em>Actions</em> menu. Click and explore the tabs for <em>Titles</em>, <em>Tools</em>, <em>Theme</em>. You can launch the <em>Theme Builder</em> to get creative with colors and themes, and save a default.</li>
</ul>
<p><img alt="Visualize set theme and choose preferences" src="../images/dr/dr-vis-choose-theme.png" /></p>
<h3 id="conclusion">Conclusion<a class="headerlink" href="#conclusion" title="Permanent link">&para;</a></h3>
<p>We've seen a small sampling of the power of Data Refinery on IBM Cloud Pak for Data. We saw how we can transform data using R code, at the command line, or using various Operations on the columns such as changing the data type, removing empty rows, or deleting the column altogether. We next saw that all the steps in our Data Flow are recorded, so we can remove steps, repeat them, or edit an individual step. We were able to quickly profiile the data, so see histograms and statistics for each column. And finally we created more in-depth Visualizations, creating a scatter plot mapping BIRTHDATE vs. TOTALCOST.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        <a href="../data-connection-and-virtualization/" class="md-footer__link md-footer__link--prev" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Data Connetion and Virtualization
            </div>
          </div>
        </a>
      
      
        <a href="../watson-knowledge-catalog-admin/" class="md-footer__link md-footer__link--next" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Enterprise data governance for Admins using Watson Knowledge Catalog
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2021 IBM Developer
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
  <div class="md-footer-social">
    
      
      
        
        
      
      <a href="https://github.com/ibm" target="_blank" rel="noopener" title="github.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://twitter.com/ibmdeveloper" target="_blank" rel="noopener" title="twitter.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://www.linkedin.com/company/ibm/" target="_blank" rel="noopener" title="www.linkedin.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://www.youtube.com/user/developerworks" target="_blank" rel="noopener" title="www.youtube.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://dev.to/ibmdeveloper" target="_blank" rel="noopener" title="dev.to" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M120.12 208.29c-3.88-2.9-7.77-4.35-11.65-4.35H91.03v104.47h17.45c3.88 0 7.77-1.45 11.65-4.35 3.88-2.9 5.82-7.25 5.82-13.06v-69.65c-.01-5.8-1.96-10.16-5.83-13.06zM404.1 32H43.9C19.7 32 .06 51.59 0 75.8v360.4C.06 460.41 19.7 480 43.9 480h360.2c24.21 0 43.84-19.59 43.9-43.8V75.8c-.06-24.21-19.7-43.8-43.9-43.8zM154.2 291.19c0 18.81-11.61 47.31-48.36 47.25h-46.4V172.98h47.38c35.44 0 47.36 28.46 47.37 47.28l.01 70.93zm100.68-88.66H201.6v38.42h32.57v29.57H201.6v38.41h53.29v29.57h-62.18c-11.16.29-20.44-8.53-20.72-19.69V193.7c-.27-11.15 8.56-20.41 19.71-20.69h63.19l-.01 29.52zm103.64 115.29c-13.2 30.75-36.85 24.63-47.44 0l-38.53-144.8h32.57l29.71 113.72 29.57-113.72h32.58l-38.46 144.8z"/></svg>
      </a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../assets/javascripts/workers/search.fb4a9340.min.js", "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.5cf3e710.min.js"></script>
      
    
  </body>
</html>