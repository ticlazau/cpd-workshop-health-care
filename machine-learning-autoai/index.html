
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <meta name="author" content="IBM Developer">
      
      
        <link rel="canonical" href="https://ibm.github.io/cpd-workshop-health-care/machine-learning-autoai/">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.0.5">
    
    
      
        <title>Machine Learning with AutoAI - Cloud Pak for Data Health Care Workshop</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.77f3fd56.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.7fa14f5b.min.css">
        
          
          
          <meta name="theme-color" content="#2094f3">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans:300,400,400i,700%7CIBM+Plex+Mono&display=fallback">
        <style>:root{--md-text-font-family:"IBM Plex Sans";--md-code-font-family:"IBM Plex Mono"}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="blue">
      
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#automate-model-building-with-autoai" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="https://ibm.github.io/cpd-workshop-health-care" title="Cloud Pak for Data Health Care Workshop" class="md-header__button md-logo" aria-label="Cloud Pak for Data Health Care Workshop">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Cloud Pak for Data Health Care Workshop
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Machine Learning with AutoAI
            
          </span>
        </div>
      </div>
    </div>
    <div class="md-header__options">
      
    </div>
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/ibm/cpd-workshop-health-care/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    cpd-workshop-health-care
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        Welcome
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../pre-work/" class="md-tabs__link md-tabs__link--active">
        Workshop
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../resources/" class="md-tabs__link">
        Workshop Resources
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://ibm.github.io/cpd-workshop-health-care" title="Cloud Pak for Data Health Care Workshop" class="md-nav__button md-logo" aria-label="Cloud Pak for Data Health Care Workshop">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Cloud Pak for Data Health Care Workshop
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/ibm/cpd-workshop-health-care/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    cpd-workshop-health-care
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" type="checkbox" id="__nav_1" >
      
      <label class="md-nav__link" for="__nav_1">
        Welcome
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Welcome" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Welcome
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        About the workshop
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      <label class="md-nav__link" for="__nav_2">
        Workshop
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Workshop" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Workshop
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../pre-work/" class="md-nav__link">
        Pre-work
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../data-connection-and-virtualization/" class="md-nav__link">
        Data Connetion and Virtualization
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../data-visualization-and-refinery/" class="md-nav__link">
        Data Visualization with Data Refinery
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../watson-knowledge-catalog-admin/" class="md-nav__link">
        Enterprise data governance for Admins using Watson Knowledge Catalog
      </a>
    </li>
  

          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Machine Learning with AutoAI
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Machine Learning with AutoAI
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-run-autoai-experiment" class="md-nav__link">
    1. Run AutoAI Experiment
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-examine-the-results" class="md-nav__link">
    2. Examine the results
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-save-the-model" class="md-nav__link">
    3. Save the model
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-promote-the-model" class="md-nav__link">
    4. Promote the model
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    Conclusion
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../openscale-fastpath/" class="md-nav__link">
        Monitoring models with OpenScale GUI (Auto setup Monitoring)
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      <label class="md-nav__link" for="__nav_3">
        Workshop Resources
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Workshop Resources" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Workshop Resources
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../resources/" class="md-nav__link">
        Additional Resources
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-run-autoai-experiment" class="md-nav__link">
    1. Run AutoAI Experiment
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-examine-the-results" class="md-nav__link">
    2. Examine the results
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-save-the-model" class="md-nav__link">
    3. Save the model
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-promote-the-model" class="md-nav__link">
    4. Promote the model
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    Conclusion
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/ibm/cpd-workshop-health-care/edit/master/workshop/machine-learning-autoai/README.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="automate-model-building-with-autoai">Automate model building with AutoAI<a class="headerlink" href="#automate-model-building-with-autoai" title="Permanent link">&para;</a></h1>
<p>For this part of the workshop, we'll learn how to use <a href="https://www.ibm.com/support/producthub/icpdata/docs/content/SSQNUZ_current/wsj/analyze-data/autoai-overview.html">AutoAI</a>.
AutoAI is a capability that automates various tasks to ease the workflow for data scientists that are creating machine learning models. It automates steps such as preparing your data for modeling, chooses the best algorithm/estimator for your problem, experiments with pipelines and parameters for the trained models.</p>
<p>We will use the features of AutoAi to perform an experiment based on the following hypothesis:</p>
<p><div class="highlight"><pre><span></span><code>The TOTALCOST of medications prescribed for a patient is correlated with various features. These features include the following from our data set: *MARITAL,RACE,ETHNICITY,BIRTHPLACE,CITY,STATE,REASONDESCRIPTION,DESCRIPTIONCONDITION*
</code></pre></div>
The user persona involved is the Data Scientist. We'll use data from our project in <code>.csv</code> format and then create and configure an AutoAI experiment. If we get a result we like, we can save the model and them promote to our deployment space to be deployed later for consumption via a REST API:</p>
<p><img alt="AutoAI sequence diagram" src="../images/autoai/machine-learning-autoai.png" /></p>
<p>This section is broken up into the following steps:</p>
<ul>
<li><a href="#automate-model-building-with-autoai">Automate model building with AutoAI</a></li>
<li><a href="#1-run-autoai-experiment">1. Run AutoAI Experiment</a></li>
<li><a href="#2-examine-the-results">2. Examine the results</a></li>
<li><a href="#3-save-the-model">3. Save the model</a></li>
<li><a href="#4-promote-the-model">4. Promote the model</a></li>
<li><a href="#conclusion">Conclusion</a></li>
</ul>
<blockquote>
<p><strong>Note:</strong> The lab instructions below assume you have completed the pre-work section already, if not, be sure to complete the pre-work first to create a project and a deployment space.</p>
</blockquote>
<h2 id="1-run-autoai-experiment">1. Run AutoAI Experiment<a class="headerlink" href="#1-run-autoai-experiment" title="Permanent link">&para;</a></h2>
<ul>
<li>Go the (☰) menu and click <em>Projects</em> -&gt; <em>All projects</em> and then click on the analytics project that you created in the <a href="../pre-work/">pre-work section</a>.</li>
</ul>
<p><img alt="(☰) Menu -&gt; Projects -&gt; All projects" src="../images/pre-work/cpd-projects-menu.png" /></p>
<ul>
<li>To start the AutoAI experiment, click the <code>Add to project +</code> button from the top of the page and select the <code>AutoAI experiment</code> option.</li>
</ul>
<p><img alt="Adding a project" src="../images/autoai/autoai-add-project.png" /></p>
<ul>
<li>Name your AutoAI experiment asset and give an optional description, then click the <code>Create</code> button.</li>
</ul>
<p><img alt="Naming your experiment" src="../images/autoai/autoai-name-experiment.png" /></p>
<ul>
<li>To configure the experiment, we must first give it the dataset that will be used to train the machine learning model. We will be using one of the CSV file datasets we have preloaded into the project. Click on the <code>Select from project</code> option.</li>
</ul>
<p><img alt="Select data" src="../images/autoai/autoai-select-dataset-project.png" /></p>
<ul>
<li>In the dialog, select the <code>PATIENTMEDICATIONSCONDITIONS.csv</code> file and click the <code>Select asset</code> button.</li>
</ul>
<p><img alt="Select data" src="../images/autoai/autoai-select-dataset.png" /></p>
<ul>
<li>Once the dataset is loaded, we will need to indicate what we want the model to predict. Under <code>What do you want to predict?</code> panel, select the <code>Prediction column</code> as <code>TOTALCOST</code>. Note that you will use the "gear icon" on the <em>Experimental settings</em> button in the next step.</li>
</ul>
<p><img alt="Predict TOTALCOST" src="../images/autoai/autoai-predict-totalcost.png" /></p>
<p>AutoAI will set up default values for the experiment based on the dataset and the column selected for the prediction. This includes the type of model to build, the metrics to optimize against, the test/train split, etc. Let's make some changes for this experiment.</p>
<ul>
<li>Select the "gear icon" on the <em>Experimental settings</em> button. Under the <em>Data source</em> tab on the left toggle the <em>Subsample rows</em>. Our data set has 100K rows, so we can start our experiment with a subset of that to speed up the training. The radio button should be on the default <em>Percent</em>. Use the up/down arrows to change to <em>10</em>. </li>
</ul>
<p><img alt="Change subsample rows" src="../images/autoai/autoai-sample-subset.png" /></p>
<ul>
<li>Scroll down to <em>Select columns to include</em>. We will uncheck most of these, since for this experiment we don't believe most of the features will be useful. If you performed the <a href="../data-visualization-and-refinery">data-visualization-and-refinery</a> module, you had a chance to see what the data looked like for each feature (column). Feel free to explore the data to see why we are choosing to include or exclude various feartures. Meanwhile, make sure to uncheck all features except the following: <em>MARITAL,RACE,ETHNICITY,BIRTHPLACE,CITY,STATE,REASONDESCRIPTION,DESCRIPTIONCONDITION</em>. Make sure that it looks like the following screenshots.</li>
</ul>
<p><img alt="Select only MARITAL, RACE, ETHNICITY" src="../images/autoai/autoai-marital-race-ethnicity.png" /></p>
<p><img alt="Select only BIRTHPLACE, CITY, STATE" src="../images/autoai/autoai-birthplace-city-state.png" /></p>
<p><img alt="Select only REASONDESCRIPTION" src="../images/autoai/autoai-reasondescription.png" /></p>
<p><img alt="Select only DESCRIPTIONCONDITIONS" src="../images/autoai/autoai-descriptioncondition.png" /></p>
<ul>
<li>
<p>Next click the <em>Prediction</em> tab on the left, under <em>Experimental settings</em>. You will see that the AutoAI tool has already selected <em>Regression</em> for the prediction type, which makes sense since we are looking at <em>TOTALCOST</em>, a continuous numeric feature. Scroll down to see that you can choose which <em>Algorithms to test</em> and how many top <em>Algorithms to use</em>. We can leave these unchanged.</p>
</li>
<li>
<p>Click on the <em>Runtime</em> tab and examine the settings. We will not change these.</p>
</li>
<li>
<p>Click <em>Save settings</em>. Finally, click <em>Run experiment</em>.</p>
</li>
</ul>
<p><img alt="Choose TOTALCOST column and run" src="../images/autoai/autoai-choose-prediction-and-run.png" /></p>
<ul>
<li>
<p>The AutoAI experiment will now run. AutoAI will run through steps to prepare the dataset, split the dataset into training / evaluation groups and then find the best performing algorithms / estimators for the type of model. It will then build the following series of candidate pipelines for each of the top N performing algorithms (where N is a number chosen in the configuration which defaults to 2):</p>
</li>
<li>
<p>Baseline model (Pipeline 1)</p>
</li>
<li>Hyperparameter optimization (Pipeline 2)</li>
<li>Automated feature engineering (Pipeline 3)</li>
<li>
<p>Hyperparameter optimization on top of engineered features (Pipeline 4)</p>
</li>
<li>
<p>The UI will show progress as different algorithms/evaluators are selected and as different pipelines are created and evaluated. You can view the performance of the pipelines that have completed by expanding each pipeline section in the leaderboard.</p>
</li>
</ul>
<p><img alt="autoai progress" src="../images/autoai/autoai-pipeline-progress.png" /></p>
<ul>
<li>The experiment can take several minutes to complete. Upon completion you will see a message that the pipelines have been created. Do not proceed to the next section until the experiment completes.</li>
</ul>
<h2 id="2-examine-the-results">2. Examine the results<a class="headerlink" href="#2-examine-the-results" title="Permanent link">&para;</a></h2>
<ul>
<li>Once the experiment completes, you can explore the various pipelines and options in the UI. Hover over one of the pipelines in the <em>Relationship map</em> to see the <em>Feature Transformers</em> and <em>Top algorithms</em> used, as well as other details. You can <em>View full log</em> and/or change the <em>Rank by:</em> order.</li>
</ul>
<p><img alt="autoai pipelines created" src="../images/autoai/autoai-pipelines-complete.png" /></p>
<ul>
<li>Click on the <em>Pipeline comparison</em> tab to see each pipeline and the associated metrics. Highlight a pipeline for details.</li>
</ul>
<p><img alt="Pipeline comparison" src="../images/autoai/autoai-pipelines-comparison.png" /></p>
<ul>
<li>Scroll down to see the <code>Pipeline leaderboard</code>. Note that you can rank by various metrics, i.e. <em>Root mean squared error</em>. </li>
</ul>
<p><img alt="Pipeline leaderboard ranking" src="../images/autoai/autoai-pipeline-leaderboard-ranking.png" /></p>
<ul>
<li>
<p>The next step is to select the model that gives the best result and view its performance. In this case, Pipeline 8 gave the best result for our experiment. Your run of AutoAI might yeild different results. You can view the detailed results by clicking the corresponding pipeline name from the leaderboard.</p>
</li>
<li>
<p>The model evaluation page will show metrics for the experiment, confusion matrix, feature transformations that were performed (if any), which features contribute to the model, and more details of the pipeline. Optionally, feel free to click through these views of the pipeline details.</p>
</li>
</ul>
<p><img alt="Model evaluation" src="../images/autoai/autoai-top-pipeline-details.png" /></p>
<ul>
<li>Look at the <em>Feature Transformations</em> tab to see "new features created during pipeline building, along with the transformation function(s) and the original feature(s) transformed."</li>
</ul>
<p><img alt="Feature Transformations" src="../images/autoai/autoai-feature-transformations.png" /></p>
<ul>
<li>The <em>Feature Importance</em> tab will give the relative weights of the various features in determing the prediction that the model makes. Note that some of the features may be a result of Feature Transformation.</li>
</ul>
<p><img alt="Feature Importance" src="../images/autoai/autoai-feature-importance.png" /></p>
<p>What are the results of this experiment? The conclusion I take from this experiment is: </p>
<div class="highlight"><pre><span></span><code>There is not a good correlation between the chosen features (MARITAL,RACE,ETHNICITY,BIRTHPLACE,CITY,STATE,REASONDESCRIPTION,DESCRIPTIONCONDITION) and the label we are trying to predict (TOTALCOST).
</code></pre></div>
<p>The Root Mean Squared Error in the case of our example is <em>92,410.338</em>, which is <em>Terrible</em> ! So, is this experiment a failure?
No, it is not a failure as an experiment. Using AutoAi we were able to quickly test a hypothesis and determine that the hypothesis was incorrect. In that sense, this experiment is not a failure. But, we failed to produce a useful Machine Learning model that would enable us to make a good prediction.</p>
<p>We could use AutoAI to create further experiments, in the hopes of proving a valid hypothesis and creating a useful machine learning model. Let's have a look at the steps we might take if we had actually created a satisfactory model, and wished to save and deploy that model for use in an application.</p>
<ul>
<li>Close the pipeline details window by clicking on the <code>X</code> in the upper-right corner.</li>
</ul>
<h2 id="3-save-the-model">3. Save the model<a class="headerlink" href="#3-save-the-model" title="Permanent link">&para;</a></h2>
<ul>
<li>In order to deploy this model, click on the <code>Save as</code> button next to the pipeline you have chosen to save.</li>
</ul>
<p><img alt="Save model" src="../images/autoai/autoai-pipeline-save-model.png" /></p>
<ul>
<li>Choose <em>Model</em> if you want to Create a Watson Machine Learning model asset that you can test with new data, deploy to generate predictions, and trace lineage activity. Choose <em>Notebook</em> if you wish to create a notebook if you want to view the code that created this model pipeline or interact with with the model programatically. Give an optional description and optional tags.</li>
</ul>
<p><img alt="Choose model or notebook" src="../images/autoai/autoai-pipeline-choose-model-or-notebook.png" /></p>
<ul>
<li>Click <code>Create</code>. You will receive a notification to indicate that your model is saved to your project. View the model details by clicking <em>View in project</em> or go back to your project main page by clicking on the project name on the navigator on the top left, and then click the saved model in the <code>Models</code> section of the <code>Assets</code> page.</li>
</ul>
<p><img alt="Select Project" src="../images/autoai/autoai-project-navigator.png" /></p>
<h2 id="4-promote-the-model">4. Promote the model<a class="headerlink" href="#4-promote-the-model" title="Permanent link">&para;</a></h2>
<ul>
<li>In order to deploy the model and utilize a REST endpoint for scoring, click on the <code>Promote to deployment space</code>:</li>
</ul>
<p><img alt="Deploying the model" src="../images/autoai/autoai-promote-to-space.png" /></p>
<ul>
<li>Select the deployment space that was created as part of the pre-work as the <code>Target space</code>. Add an optional Description or Tags and click <code>Promote</code>.</li>
</ul>
<p><img alt="Promoting the model" src="../images/autoai/autoai-promote-tags-description.png" /></p>
<blockquote>
<p><strong><em>Note</em></strong>: This is assuming you have already created a deployment space in the <code>pre-work</code> section of the workshop. </p>
</blockquote>
<ul>
<li>You will see a notification that the model was promoted to the deployment space succesfully.</li>
</ul>
<p><img alt="Deployment Success" src="../images/autoai/autoai-promotion-success.png" /></p>
<p>Using this process, you can deploy a model created in AutoAI for use via a REST endpoint.</p>
<h2 id="conclusion">Conclusion<a class="headerlink" href="#conclusion" title="Permanent link">&para;</a></h2>
<p>In this module we saw how we can use an AutoAI to test a hypothesis regarding the features and proposed label of a data set. Without spending much time we were able to determine that the hypothesis was not valid, and thus allowed the most efficient use of time for further experiments. The AutoAi framework automatically performed several tasks:</p>
<ul>
<li>Data Wrangling</li>
<li>Algorithm Evaluation &amp; Selection</li>
<li>Feature Engineering</li>
<li>Hyperparameter Optimization</li>
</ul>
<p>In the case where we are satisfied with the results of the experiment, we saw how to save the model and deploy it to the Watson Machine Learning service for scoring of novel data.
The choice to save the model as a Jupyter notebook also allows further exploration and manipulation of the various algorithms, pipelines, and hyperparameters.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        <a href="../watson-knowledge-catalog-admin/" class="md-footer__link md-footer__link--prev" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Enterprise data governance for Admins using Watson Knowledge Catalog
            </div>
          </div>
        </a>
      
      
        <a href="../openscale-fastpath/" class="md-footer__link md-footer__link--next" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Monitoring models with OpenScale GUI (Auto setup Monitoring)
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2021 IBM Developer
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
  <div class="md-footer-social">
    
      
      
        
        
      
      <a href="https://github.com/ibm" target="_blank" rel="noopener" title="github.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://twitter.com/ibmdeveloper" target="_blank" rel="noopener" title="twitter.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://www.linkedin.com/company/ibm/" target="_blank" rel="noopener" title="www.linkedin.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://www.youtube.com/user/developerworks" target="_blank" rel="noopener" title="www.youtube.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://dev.to/ibmdeveloper" target="_blank" rel="noopener" title="dev.to" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M120.12 208.29c-3.88-2.9-7.77-4.35-11.65-4.35H91.03v104.47h17.45c3.88 0 7.77-1.45 11.65-4.35 3.88-2.9 5.82-7.25 5.82-13.06v-69.65c-.01-5.8-1.96-10.16-5.83-13.06zM404.1 32H43.9C19.7 32 .06 51.59 0 75.8v360.4C.06 460.41 19.7 480 43.9 480h360.2c24.21 0 43.84-19.59 43.9-43.8V75.8c-.06-24.21-19.7-43.8-43.9-43.8zM154.2 291.19c0 18.81-11.61 47.31-48.36 47.25h-46.4V172.98h47.38c35.44 0 47.36 28.46 47.37 47.28l.01 70.93zm100.68-88.66H201.6v38.42h32.57v29.57H201.6v38.41h53.29v29.57h-62.18c-11.16.29-20.44-8.53-20.72-19.69V193.7c-.27-11.15 8.56-20.41 19.71-20.69h63.19l-.01 29.52zm103.64 115.29c-13.2 30.75-36.85 24.63-47.44 0l-38.53-144.8h32.57l29.71 113.72 29.57-113.72h32.58l-38.46 144.8z"/></svg>
      </a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../assets/javascripts/workers/search.fb4a9340.min.js", "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.5cf3e710.min.js"></script>
      
    
  </body>
</html>